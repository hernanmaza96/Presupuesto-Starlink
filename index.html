<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Presupuesto Starlink y Accesorios</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="icon" type="image/png" href="logo.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
      /* Fondo animado para el body */
      body {
        background: linear-gradient(120deg, #f8fafc 0%, #e3eafe 100%);
        background-size: 200% 200%;
        animation: gradientMove 12s ease-in-out infinite;
        transition: background 0.5s;
      }
      @keyframes gradientMove {
        0% {background-position:0% 50%;}
        50% {background-position:100% 50%;}
        100% {background-position:0% 50%;}
      }
      /* Fade-in animación para secciones principales */
      .fade-in {
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 0.8s cubic-bezier(0.4,0,0.2,1) forwards;
      }
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: none;
        }
      }
      /* Botones unificados y animados */
      .btn, .btn-primary, .btn-outline, .whatsapp-btn {
        border-radius: 18px;
        font-family: 'Montserrat', Arial, sans-serif;
        font-weight: 700;
        box-shadow: 0 2px 8px rgba(37,99,235,0.09);
        transition: background 0.22s, color 0.22s, box-shadow 0.22s, transform 0.22s;
      }
      .btn:hover, .btn-primary:hover, .btn-outline:hover, .whatsapp-btn:hover {
        box-shadow: 0 8px 32px rgba(37,99,235,0.18);
        transform: scale(1.04);
      }
      /* Tarjetas y accesorios con animación hover y sombra mejorada */
      .option, .accessory, .summary {
        border-radius: 28px;
        box-shadow: 0 6px 24px rgba(37,99,235,0.11);
        transition: box-shadow 0.22s, transform 0.22s;
      }
      .option:hover, .accessory:hover, .summary:hover {
        box-shadow: 0 12px 32px rgba(37,99,235,0.18);
        transform: translateY(-7px) scale(1.012);
      }
      /* Inputs y radios personalizados */
      input[type="radio"], input[type="checkbox"] {
        accent-color: var(--primary);
        width: 1.25em;
        height: 1.25em;
        border-radius: 50%;
        box-shadow: 0 2px 8px rgba(37,99,235,0.07);
        transition: box-shadow 0.18s;
      }
      input[type="radio"]:focus, input[type="checkbox"]:focus {
        box-shadow: 0 0 0 3px var(--primary-light);
        outline: none;
      }
      input[type="number"] {
        border-radius: 12px;
        border: 1.5px solid var(--primary-light);
        padding: 0.3em 0.7em;
        font-size: 1.05em;
        font-family: 'Open Sans', Arial, sans-serif;
        transition: border 0.18s;
        margin-left: 0.5em;
      }
      input[type="number"]:focus {
        border: 1.5px solid var(--primary);
        outline: none;
      }
      /* Tipografía optimizada */
      h1, h2, h3, h4 {
        font-family: 'Montserrat', Arial, sans-serif;
        letter-spacing: 0.5px;
      }
      h2 {
        display: flex;
        align-items: center;
        gap: 0.5em;
      }
      h2 .fa-star {
        color: var(--accent);
        font-size: 1.1em;
        margin-right: 0.1em;
        filter: drop-shadow(0 2px 6px rgba(245,158,11,0.18));
      }
      /* Microinteracciones visuales */
      .option.selected, .accessory.selected {
        box-shadow: 0 12px 32px rgba(16,185,129,0.13);
        border: 2.7px solid var(--secondary);
        background: rgba(224,240,255,0.92);
        transition: box-shadow 0.22s, border 0.22s, background 0.22s;
      }
      /* Footer elegante */
      footer {
        background: var(--darker);
        color: var(--lighter);
        padding: 3.2rem 0 2.2rem 0;
        margin-top: 4.2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        border-radius: 40px 40px 0 0;
        box-shadow: 0 2px 12px rgba(37,99,235,0.09);
      }
      .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1.2em;
      }
      .footer-logo {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: var(--lighter);
      }
      .footer-contact {
        margin-bottom: 1.5rem;
        display: flex;
        gap: 1.5rem;
      }
      .footer-contact a {
        color: var(--lighter);
        text-decoration: none;
        transition: color 0.22s;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .footer-contact a:hover {
        color: var(--primary-light);
      }
      .footer-copyright {
        font-size: 1.05rem;
        color: var(--light-gray);
        font-family: 'Open Sans', Arial, sans-serif;
      }
      /* Contraste mejorado para textos secundarios */
      p, .specs, .plan-info p {
        color: #3b4252;
        font-size: 1.05rem;
        line-height: 1.7;
      }
      /* Responsividad mejorada */
      @media (max-width: 900px) {
        .container {
          padding: 0 10px;
        }
        .options-grid {
          grid-template-columns: 1fr;
        }
        .accessories-grid {
          grid-template-columns: 1fr;
        }
        .summary {
          padding: 1.2rem 0.5rem;
        }
      }
      @media (max-width: 600px) {
        header h1 {
          font-size: 1.5rem;
        }
        h2 {
          font-size: 1.2rem;
        }
        .summary {
          padding: 1.2rem 0.5rem;
        }
        .total {
          font-size: 1.1rem;
        }
        .total span:last-child {
          font-size: 1.3rem;
        }
        .whatsapp-btn {
          font-size: 1rem;
          padding: 0.8rem 1.2rem;
        }
      }
      /* Header mejorado y animado */
      .header-content {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: 2.8em;
        position: relative;
        padding: 0 0.5em;
        border-radius: 0 0 60px 60px;
        animation: fadeInUp 1.1s cubic-bezier(0.4,0,0.2,1);
      }
      .header-logo {
        flex: 0 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 180px;
        height: 100%;
      }
      .header-logo img {
        height: 6.5em;
        width: auto;
        box-shadow: 0 2px 12px rgba(37,99,235,0.13);
        border-radius: 30px;
        margin-left: 0.7em;
        margin-right: 0;
        display: block;
        opacity: 0;
        transform: scale(0.85);
        animation: logoFadeIn 1.2s cubic-bezier(0.4,0,0.2,1) 0.2s forwards;
        transition: box-shadow 0.22s, transform 0.22s;
      }
      .header-logo img:hover {
        box-shadow: 0 8px 32px rgba(37,99,235,0.18);
        transform: scale(1.04);
      }
      .header-title {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        min-width: 0;
      }
      .header-title h1 {
        display: flex;
        align-items: center;
        gap: 0.5em;
        font-family:'Montserrat',Arial,sans-serif;
        font-weight:900;
        font-size:2.1em;
        letter-spacing:0.5px;
        color:#fff;
        margin:0;
        line-height:1.1;
        text-shadow: 0 2px 12px rgba(0,0,0,0.10);
        transition: color 0.22s;
      }
      .header-title h1 .fa-bolt {
        color: var(--accent);
        font-size: 1.1em;
        margin-right: 0.1em;
        filter: drop-shadow(0 2px 6px rgba(245,158,11,0.18));
      }
      .header-title h2 {
        font-family: 'Montserrat', Arial, sans-serif;
        font-size:1.35rem;
        font-weight:600;
        color:#fff;
        margin-top:0.7rem;
        text-shadow:0 2px 12px rgba(0,0,0,0.18);
        letter-spacing: 0.2px;
        background: none;
        -webkit-background-clip: initial; 
        -webkit-text-fill-color: initial;
        filter: none;
        transition: filter 0.22s;
      }
      @media (max-width: 700px) {
        .header-content {
          gap: 1.2em;
          padding: 0 0.2em;
        }
        .header-logo img {
          height: 3.5em;
        }
        .header-title h1 {
          font-size: 1.3em !important;
        }
        .header-title h2 {
          font-size: 1em !important;
        }
      }
      .header-separator {
        width: 100%;
        height: 7px;
        background: linear-gradient(270deg, var(--primary), var(--secondary), var(--accent));
        background-size: 200% 200%;
        animation: gradientMove 6s ease-in-out infinite;
        opacity: 0.18;
        border-radius: 0 0 32px 32px;
        margin-top: 0.7em;
        box-shadow: 0 2px 12px rgba(37,99,235,0.09);
      }
      header {
        background: linear-gradient(120deg, var(--primary) 0%, var(--primary-dark) 60%, var(--secondary) 100%);
        color: var(--lighter);
        padding: 2.2rem 0 1.7rem 0;
        box-shadow: 0 8px 32px rgba(37,99,235,0.10);
        border-radius: 0 0 60px 60px;
        margin-bottom: 2.7rem;
        position: sticky;
        top: 0;
        z-index: 100;
        overflow: hidden;
        transition: background 0.5s cubic-bezier(0.4,0,0.2,1), box-shadow 0.5s;
      }
      body.darkmode header {
        background: linear-gradient(120deg, var(--darkmode-primary) 0%, var(--primary-dark) 60%, var(--darkmode-secondary) 100%);
        color: var(--darkmode-text);
        box-shadow: 0 8px 32px rgba(96,165,250,0.13);
        transition: background 0.5s cubic-bezier(0.4,0,0.2,1), box-shadow 0.5s;
      }
      body, header, .header-content, .header-logo img, .header-title h1, .header-title h2 {
        transition: background 0.5s, color 0.5s, box-shadow 0.5s, filter 0.5s, border-radius 0.5s;
      }
      @keyframes logoFadeIn {
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      @keyframes gradientMove {
        0% {background-position:0% 50%;}
        50% {background-position:100% 50%;}
        100% {background-position:0% 50%;}
      }
      @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Open+Sans:wght@400;600&display=swap');
      :root {
        --primary: #2563eb;
        --primary-dark: #1d4ed8;
        --primary-light: #e3eafe;
        --secondary: #10b981;
        --secondary-dark: #059669;
        --accent: #f59e0b;
        --accent-dark: #d97706;
        --dark: #1e293b;
        --darker: #0f172a;
        --light: #f8fafc;
        --lighter: #ffffff;
        --gray: #64748b;
        --light-gray: #e2e8f0;
        --danger: #ef4444;
        --success: #10b981;
        --info: #3b82f6;
        --shadow-sm: 0 2px 8px rgba(37, 99, 235, 0.07);
        --shadow-md: 0 6px 24px rgba(37, 99, 235, 0.09);
        --shadow-lg: 0 12px 32px rgba(37, 99, 235, 0.13);
        --glass: rgba(255,255,255,0.65);
        --border-radius: 22px;
        --border-radius-sm: 14px;
        --transition: all 0.22s cubic-bezier(0.4, 0, 0.2, 1);
        --darkmode-bg: #181f2a;
        --darkmode-card: #232c3a;
        --darkmode-text: #f1f5f9;
        --darkmode-primary: #60a5fa;
        --darkmode-secondary: #34d399;
        --darkmode-accent: #fbbf24;
        --darkmode-border: #334155;
        --darkmode-shadow: 0 6px 24px rgba(30,41,59,0.25);
      }

      body {
        font-family: 'Open Sans', Arial, sans-serif;
        background: linear-gradient(120deg, #f8fafc 0%, #e3eafe 100%);
        color: var(--dark);
        min-height: 100vh;
        letter-spacing: 0.01em;
      }
      body.darkmode {
        background: linear-gradient(120deg, #181f2a 0%, #232c3a 100%);
        color: var(--darkmode-text);
      }
      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 24px;
      }
      header {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: var(--lighter);
        padding: 2.7rem 0 2.2rem 0;
        box-shadow: var(--shadow-md);
        border-radius: 0 0 40px 40px;
        margin-bottom: 2.7rem;
        position: relative;
        overflow: hidden;
      }
      body.darkmode header {
        background: linear-gradient(135deg, var(--darkmode-primary), var(--primary-dark));
        color: var(--darkmode-text);
      }
      header h1 {
        font-family: 'Montserrat', Arial, sans-serif;
        font-size: 2.9rem;
        font-weight: 800;
        letter-spacing: 1.5px;
        text-shadow: 0 2px 12px rgba(0,0,0,0.10);
        margin-bottom: 0.5rem;
      }
      h2 {
        font-family: 'Montserrat', Arial, sans-serif;
        font-size: 2.1rem;
        color: var(--primary);
        border-bottom: 2.5px solid var(--primary-light);
        padding-bottom: 0.6rem;
        margin: 2.7rem 0 1.7rem;
        font-weight: 800;
        letter-spacing: 0.5px;
      }
      h3 {
        font-family: 'Montserrat', Arial, sans-serif;
        font-size: 1.35rem;
        color: var(--primary-dark);
        font-weight: 700;
        margin-bottom: 0.5rem;
      }
      h4 {
        font-family: 'Montserrat', Arial, sans-serif;
        font-size: 1.08rem;
        color: var(--primary);
        font-weight: 600;
        margin-bottom: 0.2rem;
      }
      p {
        color: var(--gray);
        font-family: 'Open Sans', Arial, sans-serif;
        font-size: 1.01rem;
      }
      .location {
        display: inline-flex;

      /* Visibilidad del subtítulo en modo oscuro igual al título */
      body.darkmode .subtitle-darkmode {
        color: #fff !important;
        text-shadow: 0 2px 12px rgba(0,0,0,0.10);
      }
        align-items: center;
        background: var(--primary-light);
        padding: 0.6rem 1.3rem;
        border-radius: 50px;
        font-size: 1.05rem;
        color: var(--primary-dark);
        margin-bottom: 1.7rem;
        box-shadow: var(--shadow-sm);
        border: 1.5px solid var(--primary);
        font-weight: 600;
        letter-spacing: 0.2px;
      }
      body.darkmode .location {
        background: #232c3a;
        color: var(--darkmode-primary);
        border-color: var(--darkmode-primary);
      }
      .location i {
        margin-right: 0.6rem;
      }
      .options-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2.2rem;
        margin-bottom: 2.7rem;
      }
      .option {
        background: var(--glass);
        backdrop-filter: blur(7px);
        border-radius: var(--border-radius);
        padding: 2.2rem 1.7rem 1.7rem 1.7rem;
        box-shadow: var(--shadow-md);
        border: 2px solid var(--primary-light);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
      }
      body.darkmode .option,
      body.darkmode .accessory,
      body.darkmode .summary {
        background: var(--darkmode-card);
        color: var(--darkmode-text);
        border-color: var(--darkmode-border);
        box-shadow: var(--darkmode-shadow);
      }
      .option.selected {
        border: 2.7px solid var(--primary);
        box-shadow: var(--shadow-lg);
        background: rgba(224,240,255,0.85);
      }
      .option:hover {
        transform: translateY(-7px) scale(1.012);
        box-shadow: var(--shadow-lg);
        border-color: var(--primary);
      }
      .option .badge {
        position: absolute;
        top: 1.2rem;
        right: 1.2rem;
      }
      .price {
        font-family: 'Montserrat', Arial, sans-serif;
        font-weight: 700;
        color: var(--primary-dark);
        font-size: 1.45rem;
        margin: 0.8rem 0 0.5rem 0;
        display: flex;
        align-items: center;
        letter-spacing: 0.2px;
      }
      .price i {
        margin-right: 0.5rem;
        color: var(--gray);
        font-size: 1.2rem;
      }
      .specs {
        margin: 1.25rem 0 1rem 0;
        color: var(--gray);
        font-size: 1.01rem;
      }
      .radio-option {
        margin: 1.25rem 0 0.5rem 0;
      }
      .plan-options {
        margin: 1.25rem 0 0.5rem 0;
      }
      .plan-option {
        background: #f4f8ff;
        padding: 1.15rem 1.2rem;
        border-radius: var(--border-radius-sm);
        margin-bottom: 0.7rem;
        border: 2px solid var(--primary-light);
        box-shadow: 0 2px 8px rgba(37, 99, 235, 0.04);
        transition: var(--transition);
        cursor: pointer;
      }
      body.darkmode .plan-option {
        background: #1e293b;
        border-color: var(--darkmode-border);
      }
      .plan-option.selected-plan {
        background: #e3eafe;
        border: 2.5px solid var(--primary);
        box-shadow: 0 4px 16px rgba(37, 99, 235, 0.09);
      }
      body.darkmode .plan-option.selected-plan {
        background: #334155;
        border-color: var(--darkmode-primary);
      }
      .plan-option:hover {
        background: #f0f7ff;
        border-color: var(--primary);
      }
      .btn-container {
        display: flex;
        gap: 1rem;
        margin-top: 1.5rem;
        flex-wrap: wrap;
      }
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 1rem 1.8rem;
        border-radius: var(--border-radius-sm);
        font-family: 'Montserrat', Arial, sans-serif;
        font-weight: 700;
        text-decoration: none;
        transition: var(--transition);
        border: none;
        cursor: pointer;
        font-size: 1.05rem;
        white-space: nowrap;
        letter-spacing: 0.5px;
        box-shadow: 0 2px 8px rgba(37, 99, 235, 0.07);
      }
      .btn i {
        margin-right: 0.5rem;
      }
      .btn-primary {
        background: var(--primary);
        color: var(--lighter);
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.13);
      }
      body.darkmode .btn-primary,
      body.darkmode .whatsapp-btn {
        background: linear-gradient(90deg, var(--darkmode-secondary), var(--darkmode-primary));
        color: #fff;
      }
      .btn-primary:hover,
      .whatsapp-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-2px) scale(1.03);
        color: #fff;
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.13);
      }
      body.darkmode .btn-primary:hover,
      body.darkmode .whatsapp-btn:hover {
        background: var(--darkmode-primary);
        color: #fff;
        box-shadow: 0 7px 22px rgba(16, 185, 129, 0.18);
      }
      .btn-outline {
        background: transparent;
        border: 2px solid var(--primary);
        color: var(--primary);
      }
      body.darkmode .btn-outline {
        border-color: var(--darkmode-primary);
        color: var(--darkmode-primary);
      }
      .btn-outline:hover {
        background: var(--primary);
        color: var(--lighter);
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.13);
      }
      body.darkmode .btn-outline:hover {
        background: var(--darkmode-primary);
        color: #fff;
      }
      .accessories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 2.2rem;
        margin: 2.2rem 0 3.2rem;
      }
      .accessory {
        background: var(--glass);
        backdrop-filter: blur(7px);
        border-radius: var(--border-radius);
        padding: 2.1rem 1.5rem 1.5rem 1.5rem;
        box-shadow: var(--shadow-md);
        border: 2px solid var(--primary-light);
        display: flex;
        flex-direction: column;
        transition: var(--transition);
        overflow: hidden;
      }
      body.darkmode .accessory {
        background: var(--darkmode-card);
        color: var(--darkmode-text);
        border-color: var(--darkmode-border);
        box-shadow: var(--darkmode-shadow);
      }
      .accessory.selected {
        background: #e3f8fa;
        border: 2.5px solid var(--secondary);
        box-shadow: 0 4px 16px rgba(16, 185, 129, 0.09);
      }
      .accessory:hover {
        transform: translateY(-7px) scale(1.012);
        box-shadow: var(--shadow-lg);
        border-color: var(--secondary);
      }
      .accessory h4 {
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
      }
      .accessory h4 i {
        margin-right: 0.75rem;
        color: var(--primary);
        font-size: 1.2rem;
      }
      .accessory .price {
        margin: 1rem 0 0.5rem 0;
      }
      .accessory .radio-option {
        margin-top: auto;
        padding-top: 1rem;
        border-top: 1px solid var(--light-gray);
      }
      .summary {
        background: rgba(244,248,255,0.95);
        border-radius: 22px;
        padding: 2.7rem 2.2rem;
        box-shadow: var(--shadow-md);
        margin: 3.2rem 0;
        border: 2px solid var(--primary-light);
        position: relative;
        overflow: hidden;
      }
      body.darkmode .summary {
        background: var(--darkmode-card);
        color: var(--darkmode-text);
        border-color: var(--darkmode-border);
        box-shadow: var(--darkmode-shadow);
      }
      .summary:before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; height: 7px;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        border-radius: 22px 22px 0 0;
        opacity: 0.18;
      }
      .plan-info {
        background: #e3eafe;
        padding: 1.35rem 1.5rem;
        border-radius: var(--border-radius-sm);
        margin-bottom: 2rem;
        border-left: 6px solid var(--primary);
        display: flex;
        flex-direction: column;
        box-shadow: 0 2px 8px rgba(37, 99, 235, 0.04);
      }
      body.darkmode .plan-info {
        background: #334155;
        border-color: var(--darkmode-primary);
      }
      .plan-info strong {
        color: var(--primary);
        margin-bottom: 0.5rem;
        font-family: 'Montserrat', Arial, sans-serif;
        font-size: 1.08rem;
      }
      .plan-info p {
        font-size: 0.97rem;
        color: var(--gray);
        margin-bottom: 0;
      }
      .cost-list {
        list-style: none;
        margin-bottom: 0.5rem;
      }
      .cost-list li {
        padding: 1.1rem 0;
        border-bottom: 1px solid var(--light-gray);
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.07rem;
      }
      .cost-list li:last-child {
        border-bottom: none;
      }
      .cost-list li span:first-child {
        color: var(--dark);
        font-weight: 500;
        font-family: 'Montserrat', Arial, sans-serif;
      }
      .cost-list li span:last-child {
        font-weight: 700;
        color: var(--primary-dark);
        font-family: 'Montserrat', Arial, sans-serif;
      }
      /* Mejoras para modo oscuro en resumen de presupuesto */
      body.darkmode .cost-list li span:first-child {
        color: var(--darkmode-text);
        font-weight: 600;
        letter-spacing: 0.2px;
        text-shadow: 0 1px 2px rgba(0,0,0,0.13);
      }
      body.darkmode .cost-list li span:last-child {
        color: var(--darkmode-primary);
        font-weight: 800;
        text-shadow: 0 1px 2px rgba(0,0,0,0.13);
      }
      /* Mejoras para modo oscuro en resumen de presupuesto y textos clave */
      body.darkmode .cost-list li span:first-child,
      body.darkmode .summary h2,
      body.darkmode .summary h3,
      body.darkmode .summary h4,
      body.darkmode .plan-info strong,
      body.darkmode .plan-info p,
      body.darkmode .total span,
      body.darkmode .user-contact label,
      body.darkmode .user-contact input,
      body.darkmode .user-contact .input-icon {
        color: var(--darkmode-text) !important;
        font-family: 'Montserrat', Arial, sans-serif !important;
        text-shadow: 0 1px 2px rgba(0,0,0,0.13);
      }
      body.darkmode .cost-list li span:last-child,
      body.darkmode .total span:last-child {
        color: var(--darkmode-primary) !important;
        font-weight: 800;
        text-shadow: 0 1px 2px rgba(0,0,0,0.13);
      }
      body.darkmode .plan-info {
        background: #334155;
        border-color: var(--darkmode-primary);
      }
      body.darkmode .user-contact {
        background: rgba(35,44,58,0.92);
        border-color: var(--darkmode-primary);
        box-shadow: 0 8px 32px rgba(96,165,250,0.13), 0 1.5px 0 0 var(--darkmode-primary);
      }
      body.darkmode .user-contact input {
        background: rgba(35,44,58,0.92);
        color: var(--darkmode-text);
        border-color: var(--darkmode-primary);
      }
      body.darkmode .user-contact .input-group label {
        color: var(--darkmode-primary);
      }
      body.darkmode .user-contact .input-icon {
        color: var(--darkmode-primary);
      }
      body.darkmode .user-contact .input-group:not(:last-child)::after {
        background: linear-gradient(90deg, var(--darkmode-primary), var(--darkmode-secondary), var(--darkmode-primary));
      }
      body.darkmode .summary {
        background: var(--darkmode-card);
        color: var(--darkmode-text);
        border-color: var(--darkmode-border);
        box-shadow: var(--darkmode-shadow);
      }
      body.darkmode .summary:before {
        background: linear-gradient(90deg, var(--darkmode-primary), var(--darkmode-secondary));
        opacity: 0.18;
      }
      body.darkmode .plan-info strong {
        color: var(--darkmode-primary);
      }
      body.darkmode .plan-info p {
        color: #b6c6e3;
      }
      body.darkmode .badge-primary {
        background: #334155;
        color: var(--darkmode-primary);
      }
      body.darkmode .badge-secondary {
        background: #064e3b;
        color: var(--darkmode-secondary);
      }
      body.darkmode .badge-accent {
        background: #fbbf24;
        color: #232c3a;
      }
      footer {
        background: var(--darker);
        color: var(--lighter);
        padding: 3.2rem 0 2.2rem 0;
        margin-top: 4.2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        border-radius: 40px 40px 0 0;
      }
      body.darkmode footer {
        background: #111827;
        color: #cbd5e1;
      }
      .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }
      .footer-logo {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: var(--lighter);
      }
      .footer-contact {
        margin-bottom: 1.5rem;
        display: flex;
        gap: 1.5rem;
      }
      .footer-contact a {
        color: var(--lighter);
        text-decoration: none;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .footer-contact a:hover {
        color: var(--primary-light);
      }
      .footer-copyright {
        font-size: 1.05rem;
        color: var(--light-gray);
        font-family: 'Open Sans', Arial, sans-serif;
      }
      /* Separadores visuales */
      section.fade-in:not(:last-child) {
        border-bottom: 2.5px dashed var(--primary-light);
        margin-bottom: 2.5rem;
        padding-bottom: 2.5rem;
      }
      /* Microinteracciones para inputs */
      input[type="radio"], input[type="checkbox"] {
        accent-color: var(--primary);
        width: 1.15em;
        height: 1.15em;
        margin-right: 0.5em;
        transition: box-shadow 0.18s;
      }
      input[type="radio"]:focus, input[type="checkbox"]:focus {
        box-shadow: 0 0 0 2px var(--primary-light);
        outline: none;
      }
      input[type="number"] {
        border: 1.5px solid var(--primary-light);
        border-radius: 8px;
        padding: 0.3em 0.7em;
        font-size: 1.01em;
        font-family: 'Open Sans', Arial, sans-serif;
        transition: border 0.18s;
        margin-left: 0.5em;
      }
      input[type="number"]:focus {
        border: 1.5px solid var(--primary);
        outline: none;
      }
      /* Animaciones fade-in */
      .fade-in {
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInUp 0.8s cubic-bezier(0.4,0,0.2,1) forwards;
      }
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: none;
        }
      }
      /* Botón modo oscuro */
      .darkmode-toggle {
        position: fixed;
        top: 22px;
        right: 22px;
        z-index: 1000;
        background: var(--lighter);
        color: var(--primary-dark);
        border: 2px solid var(--primary-light);
        border-radius: 50%;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        box-shadow: var(--shadow-md);
        cursor: pointer;
        transition: var(--transition);
      }
      .darkmode-toggle:hover {
        background: var(--primary-light);
        color: var(--primary);
      }
      body.darkmode .darkmode-toggle {
        background: #232c3a;
        color: var(--darkmode-primary);
        border-color: var(--darkmode-primary);
      }
      body.darkmode .darkmode-toggle:hover {
        background: #1e293b;
        color: #fff;
      }
      /* Tooltips */
      .help-tooltip {
        display: inline-block;
        margin-left: 0.4em;
        color: var(--accent-dark);
        cursor: pointer;
        font-size: 1.1em;
        vertical-align: middle;
      }
      .help-tooltip:hover {
        color: var(--primary-dark);
      }
      /* Responsividad */
      @media (max-width: 900px) {
        .container {
          padding: 0 10px;
        }
        .options-grid {
          grid-template-columns: 1fr;
        }
        .accessories-grid {
          grid-template-columns: 1fr;
        }
        .summary {
          padding: 1.2rem 0.5rem;
        }
      }
      @media (max-width: 600px) {
        header h1 {
          font-size: 1.5rem;
        }
        h2 {
          font-size: 1.2rem;
        }
        .summary {
          padding: 1.2rem 0.5rem;
        }
        .total {
          font-size: 1.1rem;
        }
        .total span:last-child {
          font-size: 1.3rem;
        }
        .whatsapp-btn {
          font-size: 1rem;
          padding: 0.8rem 1.2rem;
        }
      }

      /* --- BLOQUE DE CONTACTO PROFESIONAL --- */
      .user-contact {
        max-width: 420px;
        margin: 0 auto 2.2rem auto;
        text-align: left;
        background: rgba(255,255,255,0.72);
        box-shadow: 0 8px 32px rgba(37,99,235,0.13), 0 1.5px 0 0 var(--primary-light);
        border-radius: 22px;
        padding: 2.1rem 1.5rem 1.5rem 1.5rem;
        border: 2.5px solid var(--primary-light);
        position: relative;
        transition: box-shadow 0.22s, border 0.22s, background 0.22s;
        overflow: visible;
      }
      .user-contact .input-group {
        position: relative;
        margin-bottom: 1.3rem;
        display: flex;
        align-items: center;
        min-height: 52px;
      }
      .user-contact .input-icon {
        position: absolute;
        left: 1em;
        top: 50%;
        transform: translateY(-50%);
        color: var(--primary);
        font-size: 1.18em;
        pointer-events: none;
        opacity: 0.82;
        transition: color 0.18s;
        height: 1.2em;
        width: 1.2em;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .user-contact input {
        width: 100%;
        padding: 0.7em 1em 0.7em 2.7em;
        border-radius: 12px;
        border: 1.7px solid var(--primary-light);
        font-size: 1.08em;
        font-family: 'Open Sans', Arial, sans-serif;
        transition: border 0.18s, box-shadow 0.18s, background 0.18s;
        box-shadow: 0 1.5px 6px rgba(37, 99, 235, 0.08);
        outline: none;
        background: rgba(255,255,255,0.92);
        color: var(--dark);
        height: 44px;
        box-sizing: border-box;
        margin: 0;
      }
      .user-contact .input-group label {
        position: absolute;
        left: 2.7em;
        top: 0.2em;
        font-size: 1.05em;
        font-weight: 700;
        color: var(--primary-dark);
        background: transparent;
        z-index: 2;
        pointer-events: none;
        margin-bottom: 0;
        letter-spacing: 0.1px;
      }
      .user-contact .input-group input:focus + label,
      .user-contact .input-group input:not(:placeholder-shown) + label {
        color: var(--primary);
      }
      .user-contact .input-group:not(:last-child)::after {
        content: '';
        display: block;
        height: 1.5px;
        width: 90%;
        margin: 0.5rem auto 0.2rem auto;
        background: linear-gradient(90deg, var(--primary-light), var(--primary), var(--primary-light));
        border-radius: 2px;
        opacity: 0.18;
        position: absolute;
        left: 5%;
        bottom: -0.7em;
      }
      @media (max-width: 600px) {
        .user-contact {
          padding: 1.1rem 0.7rem 1rem 0.7rem;
        }
        .user-contact .input-group label {
          font-size: 0.98em;
        }
        .user-contact input {
          height: 38px;
        }
      }
      /* --- FIN BLOQUE DE CONTACTO PROFESIONAL --- */
      /* Subtítulo blanco en modo oscuro igual que el título principal */
      body.darkmode .subtitle-darkmode {
        color: #fff !important;
        text-shadow: 0 2px 12px rgba(0,0,0,0.10);
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container header-content">
        <div class="header-logo">
          <img src="logo.png" alt="Logo BC Connect" />
        </div>
        <div class="header-title">
          <h1>BC Connected <i class="fas fa-bolt" title="Conectividad" aria-hidden="true"></i></h1>
          <h2 class="subtitle-darkmode">Presupuesto Starlink y Accesorios para TV Digital</h2>
        </div>
      </div>
    </header>

    <main class="container">
      <div class="location fade-in">
        <i class="fas fa-map-marker-alt"></i>
        Balcarce, Buenos Aires
      </div>

      <!-- Sección Quiénes Somos -->
      <section class="fade-in" style="margin-bottom:2.2rem;">
        <div style="display:flex;align-items:center;gap:0.7em;margin-bottom:0.7rem;">
          <span style="background:linear-gradient(90deg,#2563eb,#10b981);border-radius:50%;width:2.5em;height:2.5em;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(37,99,235,0.10);"><i class="fas fa-users" style="color:#fff;font-size:1.35em;"></i></span>
          <h2><i class="fas fa-satellite-dish"></i>¿Quiénes somos?</h2>
        </div>
        <div style="background:rgba(244,248,255,0.98);border-radius:22px;padding:2.1rem 1.7rem 1.5rem 1.7rem;margin-bottom:0.7rem;box-shadow:0 8px 32px rgba(37,99,235,0.10);border:2.5px solid var(--primary-light);max-width:650px;margin-left:auto;margin-right:auto;">
          <p style="font-family:'Montserrat',Arial,sans-serif;font-size:1.18rem;color:var(--primary-dark);margin-bottom:1.1em;line-height:1.7;letter-spacing:0.1px;text-align:center;">
            📡 Conectividad real para quienes viven donde otros servicios no llegan.
          </p>
          <p style="font-family:'Open Sans',Arial,sans-serif;font-size:1.09rem;color:var(--gray);margin-bottom:1.1em;line-height:1.6;text-align:center;">
            ¿Vivís en el campo, tenés un emprendimiento rural, o simplemente querés una conexión de Internet rápida y estable en Balcarce o alrededores? Sabemos lo difícil que puede ser encontrar un buen servicio en zonas alejadas, y por eso estamos acá para cambiar eso.
          </p>
          <div style="font-family:'Open Sans',Arial,sans-serif;font-size:1.09rem;color:var(--primary-dark);margin-bottom:1.1em;line-height:1.7;text-align:center;">
            Con <span style="font-weight:800;color:var(--primary);font-family:'Montserrat',Arial,sans-serif;">BC Connect</span>, accedés al servicio satelital de Starlink, una tecnología avanzada que ofrece:<br>
            <span style="display:inline-block;margin-top:0.7em;text-align:left;max-width:500px;margin-left:auto;margin-right:auto;">
              <span style="display:flex;align-items:center;gap:0.5em;margin-bottom:0.4em;"><span style="color:#10b981;font-size:1.2em;">✅</span> Velocidades consistentes incluso en zonas sin cobertura tradicional</span>
              <span style="display:flex;align-items:center;gap:0.5em;margin-bottom:0.4em;"><span style="color:#10b981;font-size:1.2em;">✅</span> Instalación sencilla y asesoramiento personalizado</span>
              <span style="display:flex;align-items:center;gap:0.5em;margin-bottom:0.4em;"><span style="color:#10b981;font-size:1.2em;">✅</span> Ideal para hogares, estancias, tambos, empresas agropecuarias y espacios rurales</span>
            </span>
          </div>
          <p style="font-family:'Open Sans',Arial,sans-serif;font-size:1.09rem;color:var(--gray);margin-bottom:1.1em;line-height:1.6;text-align:center;">
            💬 Si tenés dudas, escribinos. Te explicamos todo paso a paso, te ayudamos a elegir el plan correcto y te acompañamos desde el momento en que haces tu consulta hasta que estés navegando con la mejor conexión disponible.
          </p>
          <p style="font-family:'Montserrat',Arial,sans-serif;font-size:1.15rem;color:var(--primary);font-weight:700;margin-bottom:0.2em;text-align:center;">
            Conectá tu vida al futuro. Conectá con BC Connect.
          </p>
        </div>
      </section>
        <h2><i class="fas fa-satellite-dish"></i>Opciones de Equipos Starlink <span class="help-tooltip" data-help="Elige el equipo según tu necesidad: Mini es portátil, Estándar es fijo y más potente."><i class="fas fa-circle-question"></i></span></h2>
        <div class="options-grid">
          <div class="option" id="option-mini">
            <span class="badge badge-accent">Más popular</span>
            <h3>
              <i class="fas fa-satellite-dish"></i> Starlink Mini (Portátil)
            </h3>
            <div class="price"><i class="fas fa-tag"></i> $189.000 ARS</div>
            <div class="specs">
              <p>
                <i class="fas fa-tachometer-alt"></i>
                <strong>Velocidad:</strong> 50-100 Mbps
              </p>
              <p>
                <i class="fas fa-clock"></i> <strong>Latencia:</strong> ~23 ms
              </p>
              <p>
                <i class="fas fa-bolt"></i> <strong>Consumo:</strong> 25-40 W
              </p>
            </div>

            <div class="radio-option">
              <input
                type="radio"
                name="starlink-option"
                id="mini-option"
                value="189000"
                checked
              />
              <label for="mini-option">Seleccionar esta opción</label>
            </div>

            <h4><i class="fas fa-list-alt"></i> Planes compatibles:</h4>
            <div class="plan-options">
              <div class="plan-option">
                <input
                  type="radio"
                  name="plan-option"
                  id="plan-lite"
                  value="38000"
                  checked
                />
                <label for="plan-lite">Residencial Lite: $38.000/mes</label>
                <p>Velocidades de 45-130 Mbps descarga / 10-20 Mbps carga</p>
              </div>
              <div class="plan-option">
                <input
                  type="radio"
                  name="plan-option"
                  id="plan-standard"
                  value="56100"
                />
                <label for="plan-standard"
                  >Residencial Estándar: $56.100/mes</label
                >
                <p>Velocidades de 100-270+ Mbps descarga</p>
              </div>
            </div>

            <div class="btn-container">
              <a
                href="https://www.mercadolibre.com.ar/starlink-kit-mini-internet-satelital/p/MLA40656539#polycard_client=bookmarks&wid=MLA1450558069&sid=bookmarks"
                class="btn btn-outline"
                target="_blank"
              >
                <i class="fas fa-external-link-alt"></i> Ver en Mercado Libre
              </a>
              <a
                href="https://www.starlink.com/order?processorToken=481b6ebd-1f5d-4e59-b34b-f7cb31706726&step=0"
                class="btn btn-outline"
                target="_blank"
              >
                <i class="fas fa-external-link-alt"></i> Ver en Starlink
              </a>
            </div>
          </div>

          <div class="option" id="option-standard">
            <h3><i class="fas fa-satellite"></i> Starlink Estándar V4</h3>
            <div class="price"><i class="fas fa-tag"></i> $499.999 ARS</div>
            <div class="specs">
              <p>
                <i class="fas fa-tachometer-alt"></i>
                <strong>Velocidad:</strong> 100-250 Mbps
              </p>
              <p>
                <i class="fas fa-clock"></i> <strong>Latencia:</strong> ~20-40
                ms
              </p>
              <p>
                <i class="fas fa-bolt"></i> <strong>Consumo:</strong> 75-100 W
              </p>
            </div>

            <div class="radio-option">
              <input
                type="radio"
                name="starlink-option"
                id="standard-option"
                value="499999"
              />
              <label for="standard-option">Seleccionar esta opción</label>
            </div>

            <h4><i class="fas fa-list-alt"></i> Planes disponibles:</h4>
            <div class="plan-options">
              <div class="plan-option">
                <input
                  type="radio"
                  name="plan-option"
                  id="plan-lite-standard"
                  value="38000"
                />
                <label for="plan-lite-standard"
                  >Residencial Lite: $38.000/mes</label
                >
                <p>Velocidades de 45-130 Mbps descarga / 10-20 Mbps carga</p>
              </div>
              <div class="plan-option">
                <input
                  type="radio"
                  name="plan-option"
                  id="plan-standard-standard"
                  value="56100"
                />
                <label for="plan-standard-standard"
                  >Residencial Estándar: $56.100/mes</label
                >
                <p>Velocidades de 100-270+ Mbps descarga</p>
              </div>
            </div>

            <div class="btn-container">
              <a
                href="https://www.mercadolibre.com.ar/kit-starlink-de-internet-via-satelite-estandar-v4/p/MLA38764114#polycard_client=bookmarks&wid=MLA1448850481&sid=bookmarks"
                class="btn btn-outline"
                target="_blank"
              >
                <i class="fas fa-external-link-alt"></i> Ver en Mercado Libre
              </a>
              <a
                href="https://www.starlink.com/order?processorToken=481b6ebd-1f5d-4e59-b34b-f7cb31706726&step=0"
                class="btn btn-outline"
                target="_blank"
              >
                <i class="fas fa-external-link-alt"></i> Ver en Starlink
              </a>
            </div>
          </div>
        </div>
      </section>

      <section class="fade-in">
        <h2><i class="fas fa-satellite-dish"></i>Accesorios Complementarios <span class="help-tooltip" data-help="Selecciona los accesorios que desees sumar a tu instalación. Puedes ver detalles y enlaces de compra."><i class="fas fa-circle-question"></i></span></h2>
        <div class="accessories-grid">
          <div class="accessory">
            <h4><i class="fas fa-tv"></i> TV Stick Google TV</h4>
            <p class="specs">Con apps para ver TV, películas y series gratis</p>
            <div class="price"><i class="fas fa-tag"></i> $ 48.490 ARS</div>
            <div class="radio-option">
              <input
                type="checkbox"
                id="tv-stick"
                name="accessory"
                value="48490"
              />
              <label for="tv-stick">Incluir en presupuesto</label>
            </div>
            <div class="quantity-option">
              <label for="tv-stick-quantity">Cantidad:</label>
              <input
                type="number"
                id="tv-stick-quantity"
                name="tv-stick-quantity"
                value="1"
                min="1"
                style="width: 60px"
              />
            </div>
            <a
              href="https://articulo.mercadolibre.com.ar/MLA-1827149008-nuevo-onn-google-tv-full-hd-streaming-device-8gb-control-voz-_JM?searchVariation=183396239663#polycard_client=search-nordic&searchVariation=183396239663&position=7&search_layout=stack&type=item&tracking_id=8c0adade-9ca6-480b-8f3e-2dde0c8d461d"
              class="btn btn-outline"
              target="_blank"
            >
              <i class="fas fa-external-link-alt"></i> Ver en Mercado Libre
            </a>
          </div>

          <div class="accessory">
            <h4><i class="fas fa-wifi"></i> Router TP-Link TL-WR840N</h4>
            <p class="specs">
              Router principal para conectar a antena Starlink
            </p>
            <div class="price"><i class="fas fa-tag"></i> $33.999 ARS</div>
            <div class="radio-option">
              <input
                type="checkbox"
                id="router"
                name="accessory"
                value="33.999"
              />
              <label for="router">Incluir en presupuesto</label>
            </div>
            <a
              href="https://www.mercadolibre.com.ar/router-wifi-4-multimodo-tp-lilnk-wr840n-n300-v3-blanco/p/MLA18649612#polycard_client=search-nordic&searchVariation=MLA18649612&wid=MLA1508747155&position=6&search_layout=grid&type=product&tracking_id=24801a6d-4fa8-47d0-8a37-eaf0a8cab7e5&sid=search"
              class="btn btn-outline"
              target="_blank"
            >
              <i class="fas fa-external-link-alt"></i> Ver en Mercado Libre
            </a>
          </div>

          <!-- Extensor TP-Link RE200 -->
          <div class="accessory">
            <h4><i class="fas fa-signal"></i> Extensor TP-Link RE200</h4>
            <p class="specs">Extensor de rango WiFi para amplificar señal</p>
            <div class="price"><i class="fas fa-tag"></i> $ 35.335 ARS</div>
            <div class="radio-option">
              <input
                type="checkbox"
                id="extensor"
                name="accessory"
                value="35.335"
              />
              <label for="extensor">Incluir en presupuesto</label>
            </div>
            <a
              href="https://www.mercadolibre.com.ar/repetidor-extensor-de-rango-wi-fi-5-doble-banda-tp-link-re200-ac750/p/MLA18243252#polycard_client=search-nordic&searchVariation=MLA18243252&wid=MLA1432239490&position=2&search_layout=grid&type=product&tracking_id=809a7ca5-ce49-45b7-abb1-8966cbbb10e7&sid=search"
              class="btn btn-outline"
              target="_blank"
            >
              <i class="fas fa-external-link-alt"></i> Ver en Mercado Libre
            </a>
          </div>
        </div>
      </section>

      <section class="user-contact" aria-label="Datos de contacto">
        <h2><i class="fas fa-satellite-dish"></i>Contacto</h2>
        <form id="contactForm" autocomplete="on" tabindex="0" aria-label="Formulario de contacto">
          <div class="input-group">
            <span class="input-icon" aria-hidden="true">
              <svg width="1.2em" height="1.2em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block;"><circle cx="12" cy="7" r="4"/><path d="M5.5 21a7.5 7.5 0 0 1 13 0"/></svg>
            </span>
            <input type="text" id="userName" name="userName" placeholder=" " required aria-required="true" aria-label="Nombre completo" tabindex="0" />
            <label for="userName">Nombre completo <span style="color:var(--primary);">*</span></label>
          </div>
          <div class="input-group">
            <span class="input-icon" aria-hidden="true">
              <svg width="1.2em" height="1.2em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:block;"><path d="M22 16.92V19a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h2.09a2 2 0 0 1 2 1.72c.13 1.05.37 2.07.72 3.06a2 2 0 0 1-.45 2.11l-.27.27a16 16 0 0 0 6.29 6.29l.27-.27a2 2 0 0 1 2.11-.45c.99.35 2.01.59 3.06.72A2 2 0 0 1 22 16.92z"/></svg>
            </span>
            <input type="tel" id="userPhone" name="userPhone" placeholder=" " required aria-required="true" aria-label="Teléfono" pattern="[0-9 +()-]{8,}" tabindex="0" />
            <label for="userPhone">Teléfono <span style="color:var(--primary);">*</span></label>
          </div>
        </form>
      </section>

      <section class="summary fade-in">
        <h2><i class="fas fa-satellite-dish"></i>Resumen de Presupuesto <span class="help-tooltip" data-help="Aquí verás el detalle de tu selección y el total estimado. Puedes descargarlo en PDF o enviarlo por WhatsApp."><i class="fas fa-circle-question"></i></span></h2>
        <div id="visual-summary" style="text-align:center;margin-bottom:1.2em;"></div>
        <div class="plan-info">
          <strong
            ><i class="fas fa-file-invoice-dollar"></i> Plan mensual
            seleccionado:</strong
          >
          <span id="selected-plan-text">Residencial Lite ($38.000/mes)</span>
          <p>
            (Este costo no está incluido en el total del presupuesto, es solo
            informativo)
          </p>
        </div>
        <ul class="cost-list" id="dynamic-cost-list">
          <!-- Los elementos se agregarán dinámicamente aquí -->
        </ul>
        <div class="total">
          <span>Total aproximado:</span>
          <span>$<span id="total-price">0</span></span>
        </div>
      </section>

      <div style="text-align: center; margin-bottom: 1.5rem">
        <button class="btn btn-primary" id="download-pdf-btn" style="margin-bottom: 0.7rem;">
          <i class="fas fa-file-pdf"></i> Descargar presupuesto en PDF
        </button>
        <a href="#" class="btn whatsapp-btn" id="whatsapp-btn" target="_blank">
          <i class="fab fa-whatsapp"></i> Solicitar instalación por WhatsApp
        </a>
      </div>
    </main>

    <footer>
      <div class="footer-content">
        <div class="footer-logo"><i class="fas fa-bolt"></i> BC Connected</div>
        <div class="footer-contact">
      
        </div>
        <div class="footer-copyright">© 2025 Todos los derechos reservados</div>
      </div>
    </footer>

    <button class="darkmode-toggle" id="darkmode-toggle" aria-label="Alternar modo oscuro" title="Modo oscuro/claro">
      <i class="fas fa-moon"></i>
    </button>

    <script>
      // Función para formatear números con separadores de miles y hasta tres decimales
      function formatNumber(num) {
        num = Number(num).toFixed(3); // Limitar a 3 decimales
        const parts = num.split(".");
        parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        // Si los decimales son 000, no los mostramos
        if (parts[1] === "000") return parts[0];
        return parts.join(",");
      }

      // Función para calcular el total del presupuesto
      function calculateTotal() {
        let total = 0;

        // Obtener precio de la opción de Starlink seleccionada
        const starlinkOption = document.querySelector(
          'input[name="starlink-option"]:checked'
        );
        if (starlinkOption) {
          total += parseFloat(starlinkOption.value);
        }

        // Calcular precio de accesorios seleccionados
        const accessoryOptions = document.querySelectorAll(
          'input[name="accessory"]:checked'
        );
        accessoryOptions.forEach((option) => {
          // Si es TV Stick Google TV, calcular costo por cantidad seleccionada
          if (option.id === "tv-stick") {
            const quantity =
              parseInt(document.getElementById("tv-stick-quantity").value) || 0;
            if (quantity > 0) {
              const tvStickCost = 49690 * quantity; // Precio del TV Stick por cantidad
              const installationCost = 35000 * quantity; // Costo de instalación por cantidad
              total += tvStickCost + installationCost; // Sumar ambos costos al total
            }
          } else {
            // Sumar el costo de otros accesorios seleccionados
            total += parseFloat(option.value);
          }
        });

        // Agregar costo fijo de instalación de antena
        total += 150000;

        // Actualizar el total en el resumen
        const totalPriceElem = document.getElementById("total-price");
        totalPriceElem.textContent = formatNumber(total);

        // Actualizar la lista de costos
        updateCostList();
      }

      // Función para actualizar el resumen de presupuesto
      function updateCostList() {
        const costList = document.getElementById("dynamic-cost-list");
        costList.innerHTML = ""; // Limpiar lista

        // Agregar equipo seleccionado
        const starlinkOption = document.querySelector(
          'input[name="starlink-option"]:checked'
        );
        if (starlinkOption) {
          const starlinkName = starlinkOption
            .closest(".option")
            .querySelector("h3")
            .textContent.trim();
          const starlinkPrice = parseFloat(starlinkOption.value);
          addCostItem(costList, starlinkName, starlinkPrice);
        }

        // Agregar accesorios seleccionados
        const accessoryOptions = document.querySelectorAll(
          'input[name="accessory"]:checked'
        );
        accessoryOptions.forEach((option) => {
          const accessoryName = option
            .closest(".accessory")
            .querySelector("h4")
            .textContent.trim();

          // Si es TV Stick Google TV, agregar costo por cantidad seleccionada
          if (option.id === "tv-stick") {
            const quantity =
              parseInt(document.getElementById("tv-stick-quantity").value) || 0;
            if (quantity > 0) {
              const tvStickCost = 49690 * quantity; // Precio del TV Stick por cantidad
              const installationCost = 35000 * quantity; // Costo de instalación por cantidad
              addCostItem(
                costList,
                `${accessoryName} (x${quantity})`,
                tvStickCost
              );
              addCostItem(
                costList,
                `Instalación TV Stick (x${quantity})`,
                installationCost
              );
            }
          } else {
            // Agregar otros accesorios seleccionados
            const accessoryPrice = parseFloat(option.value);
            addCostItem(costList, accessoryName, accessoryPrice);
          }
        });

        // Agregar costo fijo de instalación de antena
        addCostItem(costList, "Instalación antena con router/extensor", 150000);
      }

      // Función auxiliar para agregar items al resumen
      function addCostItem(list, name, value) {
        const li = document.createElement("li");
        li.innerHTML = `
                <span>${name}:</span>
                <span>$${formatNumber(value)}</span>
            `;
        list.appendChild(li);
      }

      // Función para actualizar el texto del plan seleccionado
      function updateSelectedPlanText() {
        const planOption = document.querySelector(
          'input[name="plan-option"]:checked'
        );
        if (planOption) {
          const planLabel = planOption.nextElementSibling.textContent.trim();
          const planPrice = parseFloat(planOption.value);
          const selectedPlanText =
            document.getElementById("selected-plan-text");
          selectedPlanText.innerHTML = `${planLabel} (<span class="text-primary">${formatNumber(
            planPrice
          )} ARS</span>/mes)`;
        }
      }

      // Función para actualizar el estilo del plan seleccionado
      function updatePlanSelectionStyles() {
        // Remover la clase 'selected-plan' de todos los planes
        document.querySelectorAll(".plan-option").forEach((plan) => {
          plan.classList.remove("selected-plan");
        });

        // Agregar la clase 'selected-plan' al plan seleccionado
        const selectedPlanOption = document.querySelector(
          'input[name="plan-option"]:checked'
        );
        if (selectedPlanOption) {
          selectedPlanOption
            .closest(".plan-option")
            .classList.add("selected-plan");
        }
      }

      // Función para seleccionar automáticamente el primer plan compatible al cambiar de equipo Starlink
      function autoSelectPlanForStarlink() {
        document.querySelectorAll('input[name="starlink-option"]').forEach((input) => {
          input.addEventListener('change', function() {
            if (this.checked) {
              const optionDiv = this.closest('.option');
              if (optionDiv) {
                // Selecciona el primer plan compatible
                const firstPlan = optionDiv.querySelector('input[name="plan-option"]');
                if (firstPlan) {
                  firstPlan.checked = true;
                  // Disparar eventos de cambio para actualizar el resumen y estilos
                  firstPlan.dispatchEvent(new Event('change', { bubbles: true }));
                  updatePlanSelectionStyles();
                  updateSelectedPlanText();
                }
              }
            }
          });
        });
      }
      // Llamar a la función después de definirla
      autoSelectPlanForStarlink();
      // Permitir que el recuadro azul funcione como radio visual y funcional
      function updateOptionSelectedStyles() {
        document.querySelectorAll('.option').forEach(optionDiv => {
          const radio = optionDiv.querySelector('input[name="starlink-option"]');
          if (radio && radio.checked) {
            optionDiv.classList.add('selected');
          } else {
            optionDiv.classList.remove('selected');
          }
        });
      }

      document.querySelectorAll('.option').forEach(optionDiv => {
        optionDiv.addEventListener('click', function(e) {
          // Evitar que el click en el radio no duplique el evento
          if (e.target.tagName === 'INPUT' && e.target.name === 'starlink-option') return;
          const radio = optionDiv.querySelector('input[name="starlink-option"]');
          if (radio && !radio.checked) {
            radio.checked = true;
            radio.dispatchEvent(new Event('change', { bubbles: true }));
          }
          // Actualizar estilos visuales
          updateOptionSelectedStyles();
          calculateTotal();
          updatePlanSelectionStyles();
          updateSelectedPlanText();
        });
      });

      // Actualizar estilos al cargar y al cambiar la antena
      updateOptionSelectedStyles();
      document.querySelectorAll('input[name="starlink-option"]').forEach(input => {
        input.addEventListener('change', updateOptionSelectedStyles);
      });

      // --- VALIDACIÓN DE NOMBRE ANTES DE ENVIAR ---
      function getUserName() {
        return document.getElementById('userName').value.trim();
      }
      function getUserPhone() {
        return document.getElementById('userPhone').value.trim();
      }
      // Modifico la función de WhatsApp para incluir nombre y teléfono y validar antes de abrir WhatsApp
      function generateWhatsAppMessage() {
        let message = "¡Hola! Me gustaría solicitar una instalación con los siguientes detalles:\n\n";
        const userName = getUserName();
        const userPhone = getUserPhone();
        if (userName) message += `Nombre: ${userName}\n`;
        if (userPhone) message += `Teléfono: ${userPhone}\n`;
        message += "\n--- RESUMEN DE PRESUPUESTO ---\n";

        // Equipo seleccionado
        const starlinkOption = document.querySelector('input[name="starlink-option"]:checked');
        if (starlinkOption) {
          const starlinkName = starlinkOption.closest(".option").querySelector("h3").textContent.trim();
          const starlinkPrice = parseFloat(starlinkOption.value);
          message += `Equipo: ${starlinkName} - $${formatNumber(starlinkPrice)}\n`;
        }

        // Plan seleccionado
        const planOption = document.querySelector('input[name="plan-option"]:checked');
        if (planOption) {
          const planLabel = planOption.nextElementSibling.textContent.trim();
          const planPrice = parseFloat(planOption.value);
          message += `Plan: ${planLabel} ($${formatNumber(planPrice)}/mes)\n`;
        }

        // Accesorios seleccionados
        const accessoryOptions = document.querySelectorAll('input[name="accessory"]:checked');
        if (accessoryOptions.length > 0) {
          message += "Accesorios:\n";
          accessoryOptions.forEach((option) => {
            const accessoryName = option.closest(".accessory").querySelector("h4").textContent.trim();
            if (option.id === "tv-stick") {
              const quantity = parseInt(document.getElementById("tv-stick-quantity").value) || 0;
              if (quantity > 0) {
                const tvStickCost = 49690 * quantity;
                const installationCost = 35000 * quantity;
                message += `- ${accessoryName} (x${quantity}): $${formatNumber(tvStickCost)}\n`;
                message += `  Instalación TV Stick (x${quantity}): $${formatNumber(installationCost)}\n`;
              }
            } else {
              const accessoryPrice = parseFloat(option.value);
              message += `- ${accessoryName}: $${formatNumber(accessoryPrice)}\n`;
            }
          });
        }

        // Instalación antena
        message += `Instalación antena con router/extensor: $150.000\n`;

        // Total
        const totalPriceElem = document.getElementById("total-price").textContent;
        message += `\nTotal aproximado: $${totalPriceElem}\n`;

        return message;
      }

      // Validar nombre antes de enviar WhatsApp y redirigir a WhatsApp with el mensaje generado en una nueva pestaña
      document.getElementById("whatsapp-btn").addEventListener("click", function(e) {
        if (!getUserName()) {
          e.preventDefault();
          Swal.fire({
            icon: 'warning',
            title: 'Por favor ingresa tu nombre',
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 2500,
            background: document.body.classList.contains('darkmode') ? '#232c3a' : '#fff',
            color: document.body.classList.contains('darkmode') ? '#f1f5f9' : '#1e293b',
          });
          document.getElementById('userName').focus();
          return;
        }
        // Redirigir a WhatsApp con el mensaje generado en una nueva pestaña
        e.preventDefault();
        const numero = '5492983523639'; // Número con código país y sin espacios
        const mensaje = encodeURIComponent(generateWhatsAppMessage());
        const url = `https://wa.me/${numero}?text=${mensaje}`;
        window.open(url, '_blank', 'noopener');
      }, false);

      // Modifico PDF para incluir nombre y teléfono
      document.getElementById('download-pdf-btn').addEventListener('click', () => {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        let y = 15;
        doc.setFont('helvetica', 'bold');
        doc.setFontSize(18);
        doc.text('Presupuesto Starlink y Accesorios', 15, y);
        y += 10;
        doc.setFontSize(12);
        doc.setFont('helvetica', 'normal');
        doc.text('Fecha: ' + new Date().toLocaleDateString(), 15, y);
        y += 10;
        // Equipo
        const starlinkOption = document.querySelector('input[name="starlink-option"]:checked');
        if (starlinkOption) {
          const starlinkName = starlinkOption.closest('.option').querySelector('h3').textContent.trim();
          const starlinkPrice = parseFloat(starlinkOption.value);
          doc.text(`Equipo: ${starlinkName} - $${formatNumber(starlinkPrice)}`, 15, y);
          y += 8;
        }
        // Plan
        const planOption = document.querySelector('input[name="plan-option"]:checked');
        if (planOption) {
          const planLabel = planOption.nextElementSibling.textContent.trim();
          doc.text(`Plan: ${planLabel}`, 15, y);
          y += 8;
        }
        // Accesorios
        const accessoryOptions = document.querySelectorAll('input[name="accessory"]:checked');
        if (accessoryOptions.length > 0) {
          doc.text('Accesorios:', 15, y);
          y += 8;
          accessoryOptions.forEach((option) => {
            const accessoryName = option.closest('.accessory').querySelector('h4').textContent.trim();
            if (option.id === 'tv-stick') {
              const quantity = parseInt(document.getElementById('tv-stick-quantity').value) || 0;
              if (quantity > 0) {
                const tvStickCost = 49690 * quantity;
                const installationCost = 35000 * quantity;
                doc.text(`- ${accessoryName} (x${quantity}): $${formatNumber(tvStickCost)}`, 18, y);
                y += 7;
                doc.text(`  Instalación TV Stick (x${quantity}): $${formatNumber(installationCost)}`, 18, y);
                y += 7;
              }
            } else {
              const accessoryPrice = parseFloat(option.value);
              doc.text(`- ${accessoryName}: $${formatNumber(accessoryPrice)}`, 18, y);
              y += 7;
            }
          });
        }
        // Instalación
        doc.text('Instalación antena con router/extensor: $150.000', 15, y);
        y += 10;
        // Total
        const totalPriceElem = document.getElementById('total-price').textContent;
        doc.setFont('helvetica', 'bold');
        doc.setFontSize(15);
        doc.text(`Total aproximado: $${totalPriceElem}`, 15, y);
        y += 10;

        // Datos de usuario
        const userName = getUserName();
        const userPhone = getUserPhone();
        if (userName) { doc.text('Nombre: ' + userName, 15, y); y += 8; }
        if (userPhone) { doc.text('Teléfono: ' + userPhone, 15, y); y += 8; }

        doc.save('Presupuesto_Starlink.pdf');
      }, true);

      // --- VALIDACIÓN DE CANTIDAD TV STICK ---
      document.getElementById('tv-stick-quantity').addEventListener('input', function() {
        if (this.value < 1) {
          this.value = 1;
          Swal.fire({
            icon: 'warning',
            title: 'La cantidad mínima es 1',
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 2000,
            background: document.body.classList.contains('darkmode') ? '#232c3a' : '#fff',
            color: document.body.classList.contains('darkmode') ? '#f1f5f9' : '#1e293b',
          });
        }
      });

      // --- ACCESIBILIDAD: ARIA Y NAVEGACIÓN ---
      document.querySelectorAll('input, button, a').forEach(el => {
        if (!el.hasAttribute('tabindex')) el.setAttribute('tabindex', '0');
      });
      document.querySelectorAll('input[type="radio"]').forEach(el => {
        el.setAttribute('aria-checked', el.checked);
        el.addEventListener('change', function() {
          el.setAttribute('aria-checked', el.checked);
        });
      });
      document.querySelectorAll('input[type="checkbox"]').forEach(el => {
        el.setAttribute('aria-checked', el.checked);
        el.addEventListener('change', function() {
          el.setAttribute('aria-checked', el.checked);
        });
      });

      // --- RESUMEN VISUAL DE SELECCIÓN ---
      function updateVisualSummary() {
        const visual = document.getElementById('visual-summary');
        if (!visual) return;
        let html = '';
        // Equipo
        const starlinkOption = document.querySelector('input[name="starlink-option"]:checked');
        if (starlinkOption) {
          const icon = starlinkOption.id === 'mini-option' ? 'fa-satellite-dish' : 'fa-satellite';
          const name = starlinkOption.closest('.option').querySelector('h3').textContent.trim();
          html += `<div style='display:inline-block;margin-right:1.5em;'><i class='fas ${icon}' style='font-size:2.2em;color:#2563eb;'></i><div style='font-size:0.95em;'>${name}</div></div>`;
        }
        // Accesorios
        const accessoryOptions = document.querySelectorAll('input[name="accessory"]:checked');
        accessoryOptions.forEach(option => {
          let icon = 'fa-box';
          if (option.id === 'tv-stick') icon = 'fa-tv';
          if (option.id === 'router') icon = 'fa-wifi';
          if (option.id === 'extensor') icon = 'fa-signal';
          const name = option.closest('.accessory').querySelector('h4').textContent.trim();
          html += `<div style='display:inline-block;margin-right:1.5em;'><i class='fas ${icon}' style='font-size:2.2em;color:#10b981;'></i><div style='font-size:0.95em;'>${name}</div></div>`;
        });
        visual.innerHTML = html;
      }
      // Crear el contenedor visual solo si no existe
      if (!document.getElementById('visual-summary')) {
        let visualSummary = document.createElement('div');
        visualSummary.id = 'visual-summary';
        visualSummary.style = 'text-align:center;margin-bottom:1.2em;';
        document.querySelector('.summary').insertAdjacentElement('afterbegin', visualSummary);
      }
      // Actualizar al cambiar selección
      document.querySelectorAll('input[type="radio"],input[type="checkbox"]').forEach(input => {
        input.addEventListener('change', updateVisualSummary);
      });
      updateVisualSummary();

      // --- TOOLTIP DE AYUDA ---
      document.querySelectorAll('.help-tooltip').forEach(el => {
        el.addEventListener('mouseenter', () => {
          Swal.fire({
            text: el.getAttribute('data-help'),
            icon: 'info',
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 8000,
            timerProgressBar: true,
            background: document.body.classList.contains('darkmode') ? '#232c3a' : '#fff',
            color: document.body.classList.contains('darkmode') ? '#f1f5f9' : '#1e293b',
          });
        });
      });

      // --- Inicializar correctamente el cálculo del presupuesto ---
      document.querySelectorAll(
        'input[type="radio"], input[type="checkbox"], input[type="number"]'
      ).forEach((input) => {
        input.addEventListener("change", () => {
          calculateTotal();
          updateSelectedPlanText();
        });
      });
      calculateTotal();
      updateSelectedPlanText();
      updatePlanSelectionStyles();
      autoSelectPlanForStarlink();

      // --- MODO OSCURO ---
      const darkToggle = document.getElementById('darkmode-toggle');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (localStorage.getItem('darkmode') === 'true' || (!localStorage.getItem('darkmode') && prefersDark)) {
        document.body.classList.add('darkmode');
        darkToggle.innerHTML = '<i class="fas fa-sun"></i>';
      }
      darkToggle.addEventListener('click', () => {
        document.body.classList.toggle('darkmode');
        const isDark = document.body.classList.contains('darkmode');
        darkToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        localStorage.setItem('darkmode', isDark);
      });

      // --- ANIMACIONES DE ENTRADA ---
      document.querySelectorAll('.fade-in').forEach((el, i) => {
        el.style.animationDelay = (i * 0.12) + 's';
      });
    </script>
  </body>
</html>
